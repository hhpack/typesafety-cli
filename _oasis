OASISFormat: 0.4
Name:        typesafety
Version:     0.9.1
Synopsis:    Typechecker powerful wrapper for HHVM/Hack
Authors:     Noritka Horio <holy.shared.design@gmail.com>
License:     MIT
Plugins:     META (0.4), DevFiles (0.4)
Description:
  Detailed information display of type error and review comments to Github will support development with HHVM/Hack.
  typesafety is designed for use in the CI environment and now supports Travis CI.
Maintainers: Noritka Horio <holy.shared.design@gmail.com>
Homepage: https://github.com/hhpack/typesafety-cli
BugReports: https://github.com/hhpack/typesafety-cli/issues
BuildTools:  ocamlbuild
BuildDepends: threads, str
PreBuildCommand:
  atdgen -t src/typechecker/typechecker_check.atd -o src/typechecker/typechecker_check
  atdgen -j src/typechecker/typechecker_check.atd -o src/typechecker/typechecker_check
  atdgen -t src/review/github.atd -o src/review/github
  atdgen -j src/review/github.atd -o src/review/github
OCamlVersion: >= 4.04.2

SourceRepository head
  Type: git
  Location: git://github.com/hhpack/typesafety-cli.git
  Browser: https://github.com/hhpack/typesafety-cli

SourceRepository opam-pin
  Type: git
  Location: git://github.com/hhpack/typesafety-cli.git
  Branch: master

Library "github"
  Path: src/github
  Modules:
    Github
  FindlibName: github
  FindlibParent: typesafety

Library "process"
  Path: src/process
  Modules:
    Process,
    Process_result
  BuildDepends: lwt (>= 3.1.0)
  FindlibName: process
  FindlibParent: typesafety

Library "misc"
  Path: src/misc
  Modules:
    File,
    Color,
    Log
  FindlibName: misc
  FindlibParent: typesafety

Library "hack"
  Path: src/hack
  Modules:
    Source_file,
    Source_lines,
    Source_cache
  BuildDepends: typesafety.misc
  FindlibName: hack
  FindlibParent: typesafety

Library "env"
  Path: src/env
  Modules:
    Env,
    Ci_service_env,
    Github_env,
    Ci_env,
    Ci_detector
  BuildDepends: typesafety.github
  FindlibName: env
  FindlibParent: typesafety

Library "typechecker"
  Path: src/typechecker
  Modules:
    Typechecker_check_t,
    Typechecker_check_j
  BuildDepends: atdgen (>= 1.10.2)
  FindlibName: typechecker
  FindlibParent: typesafety

Library "hhvm"
  Path: src/hhvm
  Modules:
    Hh_config,
    Hh_client,
    Hhvm_version,
    Hhvm
  BuildDepends:
    lwt (>= 3.1.0),
    typesafety.process,
    typesafety.misc,
    typesafety.typechecker
  FindlibName: hhvm
  FindlibParent: typesafety

Library "review"
  Path: src/review
  Modules:
    Github_review,
    Review_comment,
    Github_t,
    Github_j,
    Http_client,
    Github_client
  BuildDepends:
    atdgen (>= 1.10.2),
    lwt (>= 3.1.0),
    lwt_ssl (>= 1.1.0),
    cohttp (>= 0.99.0),
    cohttp.lwt (>= 0.99.0),
    cohttp-lwt-unix (>= 0.99.0),
    typesafety.github,
    typesafety.misc,
    typesafety.env,
    typesafety.hack,
    typesafety.typechecker
  FindlibName: review
  FindlibParent: typesafety

Library "typesafety"
  Path: src/cli
  Modules:
    Typesafety_hhvm,
    Typesafety_check,
    Typesafety_report,
    Typesafety_github
  BuildDepends:
    typesafety.hhvm,
    typesafety.hack,
    typesafety.misc,
    typesafety.review,
    typesafety.typechecker
  FindlibName: typesafety

Executable typesafety
  Path:       src
  MainIs:     typesafety.ml
  CompiledObject: native
  Install: true
  BuildDepends: cmdliner (>= 1.0.0), typesafety

Executable typesafety_review
  Path:       src
  MainIs:     typesafety_review.ml
  CompiledObject: native
  Install: true
  BuildDepends: cmdliner (>= 1.0.0), typesafety.review, typesafety.misc

Executable test
  Path: tests
  MainIs: test.ml
  Build$: flag(tests)
  CompiledObject: native
  Install: false
  BuildDepends:
    oUnit (>= 2.0.0), typesafety

Test test
  Run$:               flag(tests)
  Command:            $test
  WorkingDirectory:   tests
